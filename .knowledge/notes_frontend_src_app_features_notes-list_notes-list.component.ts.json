{"is_source_file": true, "format": "TypeScript (Angular component)", "description": "This file defines the Angular component 'NotesListComponent' which displays a list of notes. It manages search filtering with debounce, highlights the active note based on the URL, and provides navigation functionalities to open and create notes. It interacts with NotesService for data fetching, uses Angular routing for navigation, and handles accessibility features.", "external_files": ["./notes-list.component.html", "./notes-list.component.css"], "external_methods": ["this.notesService.listNotes", "this.router.navigate", "this.router.events.subscribe", "this.statusMessage.set", "g.document.querySelector", "g.document.querySelectorAll"], "published": ["ngOnInit", "onQueryChange", "onInput", "onSearchKeydown", "openNote", "createNote", "isActive", "snippet", "tags", "onItemKeydown"], "classes": [{"name": "NotesListComponent", "description": "An Angular component that displays and manages a list of notes with search, navigation, and accessibility features."}], "methods": [{"name": "ngOnInit", "description": "Initializes the component, sets up subscriptions, and prepares filtered notes stream."}, {"name": "onQueryChange", "description": "Updates the search query and triggers debounced filtering."}, {"name": "onInput", "description": "Handles input events, extracting the value and updating the query."}, {"name": "onSearchKeydown", "description": "Handles keyboard events on the search input to navigate list items."}, {"name": "openNote", "description": "Navigates to the route for the selected note."}, {"name": "createNote", "description": "Navigates to create a new note."}, {"name": "isActive", "description": "Checks if a note is the currently active note based on URL."}, {"name": "snippet", "description": "Returns a shortened preview of a note's content."}, {"name": "tags", "description": "Returns a comma-separated string of tags for a note."}, {"name": "onItemKeydown", "description": "Handles keyboard navigation within note list items."}, {"name": "focusItem", "description": "Moves DOM focus to a list item at a specific index."}], "calls": ["this.notesService.listNotes", "this.router.navigate", "this.router.events.subscribe", "g.document.querySelector", "g.document.querySelectorAll"], "search-terms": ["NotesListComponent", "debounced search", "active note", "navigation", "Angular router", "keyboard navigation", "Accessibility", "Note list filtering"], "state": 2, "file_id": 27, "knowledge_revision": 116, "git_revision": "79d974bd074f0884805836b09ea8ca1d55f80139", "revision_history": [{"64": ""}, {"74": ""}, {"75": ""}, {"78": ""}, {"79": ""}, {"80": ""}, {"104": "79d974bd074f0884805836b09ea8ca1d55f80139"}, {"116": "79d974bd074f0884805836b09ea8ca1d55f80139"}], "ctags": [{"_type": "tag", "name": "NotesListComponent", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^export class NotesListComponent implements OnInit {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "clamp", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const clamp = (i: number) => Math.max(0, Math.min(notes.length - 1, i));$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const el = items && items[index] ? items[index] : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^        const first = g.document.querySelector('.notes-ul .note-item') as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^      const g: any = typeof globalThis !== 'undefined' ? globalThis : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const g: any = typeof globalThis !== 'undefined' ? globalThis : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasTarget", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const hasTarget = (e: unknown): e is { target: { value?: unknown } | null } =>$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const id = match && match[1] !== 'new' ? match[1] : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "index", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const el = items && items[index] ? items[index] : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const el = items && items[index] ? items[index] : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const items = g.document.querySelectorAll('.notes-ul .note-item') as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const key = event.key;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^        const list = this.notesService.listNotes(q);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "match", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const match = url.match(\\/\\\\\\/notes\\\\\\/([^\\\\\\/\\\\?]+)\\/);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "nextIndex", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    let nextIndex = index;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "notesService", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^  private readonly notesService = inject(NotesService);$/", "language": "TypeScript", "kind": "property", "scope": "NotesListComponent", "scopeKind": "class"}, {"_type": "tag", "name": "target", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const target = hasTarget(event) ? (event as { target: { value?: unknown } | null }).target :/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "target", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const val = target && typeof target.value === 'string' ? target.value : '';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const text = (note.content ?? '').trim();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "val", "path": "/home/kavia/workspace/code-generation/personal-notes-app-29354-29372/notes_frontend/src/app/features/notes-list/notes-list.component.ts", "pattern": "/^    const val = target && typeof target.value === 'string' ? target.value : '';$/", "language": "TypeScript", "kind": "constant"}], "hash": "8c03c919bada1b03344f69a796775972", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/features/notes-list/notes-list.component.ts", "fields": [{"name": "let nextIndex = index;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "private readonly notesService = inject(NotesService);", "scope": "NotesListComponent", "scopeKind": "class", "description": "unavailable"}]}